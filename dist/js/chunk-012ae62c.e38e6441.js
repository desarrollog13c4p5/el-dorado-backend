(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-012ae62c"],{"3a07":function(t,o,r){"use strict";r.r(o);var e=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",[r("div",{staticClass:"row"},[r("form",{on:{submit:function(o){return o.preventDefault(),t.handleSubmitForm.apply(null,arguments)}}},[r("h5",[t._v("Crear Libro")]),r("div",{staticClass:"row pb-1"},[r("div",{staticClass:"col-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoLibro.nombre,expression:"nuevoLibro.nombre"}],staticClass:"form-control",attrs:{type:"text",id:"inNombre",placeholder:"Nombre del Libro",required:""},domProps:{value:t.nuevoLibro.nombre},on:{input:function(o){o.target.composing||t.$set(t.nuevoLibro,"nombre",o.target.value)}}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-8"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoLibro.autor,expression:"nuevoLibro.autor"}],staticClass:"form-control",attrs:{type:"text",id:"inAutor",placeholder:"Autor del Libro",required:""},domProps:{value:t.nuevoLibro.autor},on:{input:function(o){o.target.composing||t.$set(t.nuevoLibro,"autor",o.target.value)}}})]),r("div",{staticClass:"col"},[r("button",{staticClass:"btn btn-primary",attrs:{disabled:t.bloquear}},[t._v("Crear")])])]),t._m(0),r("hr")])]),""!=this.mensajeError?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.mensajeError)+" ")]):t._e(),r("div",{staticClass:"row"},[r("h5",[t._v("Lista de Libros")]),r("div",{staticClass:"row pb-2 d-none"},[r("div",{staticClass:"col-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro,expression:"filtro"}],staticClass:"form-control",attrs:{type:"text",id:"inFiltro",placeholder:"Todos"},domProps:{value:t.filtro},on:{input:function(o){o.target.composing||(t.filtro=o.target.value)}}})]),r("div",{staticClass:"col-auto px-1"},[r("button",{staticClass:"btn btn-primary",attrs:{disabled:t.bloquear}},[t._v("Aplicar")])]),r("div",{staticClass:"col-auto px-1"},[r("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.bloquear}},[t._v(" Limpiar ")])])]),r("div",{staticClass:"row ps-4 pe-1"},[r("table",{staticClass:"table table-sm table-bordered"},[t._m(1),r("tbody",t._l(t.Libros,(function(o){return r("tr",{key:o._id},[r("td",[t._v(t._s(o._id.substring(20)))]),r("td",[t._v(t._s(o.nombre_libro))]),r("td",[t._v(t._s(o.autor))]),r("td",{attrs:{id:"cent"}},[r("button",{staticClass:"btn btn-outline-danger btn-sm p-1",attrs:{disabled:null!=o.id_prestamo},on:{click:function(r){return r.preventDefault(),t.borrarLibro(o._id,o.nombre_libro)}}},[t._v(" Borrar ")])])])})),0)])])])])},a=[function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"col"},[r("div",{staticClass:"row"})])},function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("thead",[r("tr",{attrs:{id:"cent"}},[r("th",{attrs:{scope:"col"}},[t._v("Id")]),r("th",{attrs:{scope:"col"}},[t._v("Nombre")]),r("th",{attrs:{scope:"col"}},[t._v("Autor")]),r("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])}],i=r("bc3a"),s=r.n(i),n="https://proyecto-back-end-mintic-2021.herokuapp.com/",l={data:function(){return{nuevoLibro:{nombre:"",autor:""},filtro:"",mensajeError:"",bloquear:!0,Libros:[],libroBorrar:{id:"",nombre:""}}},created:function(){console.log("Listando Libros"),this.listarLibros()},methods:{handleSubmitForm:function(){var t=this;this.bloquear=!0;var o=n+"api/nuevo-libro";console.log(o),s.a.post(o,{nombre_libro:this.nuevoLibro.nombre,autor:this.nuevoLibro.autor,id_prestamo:null}).then((function(o){console.log(o.data),t.listarLibros()})).catch((function(o){console.log(o),t.mensajeError="Error creando nuevo Libro, verifique el Nombre y Autor e intentelo numevamente.",t.bloquear=!1}))},listarLibros:function(){var t=this;s.a.get(n+"api/libro").then((function(o){t.Libros=o.data.reverse(),t.mensajeError="",t.bloquear=!1})).catch((function(o){console.log(o),t.mensajeError="No se puede traer la lista de Libros."})),this.nuevoLibro.nombre="",this.nuevoLibro.autor="",this.filtro=""},borrarLibro:function(t,o){var r=this;console.log("Borrando "+o),s.a.delete(n+"api/libro/"+t).then((function(t){console.log(t.data),r.listarLibros()})).catch((function(t){console.log(t),r.mensajeError="No se borro Libro "+o}))},editarLibro:function(t,o){alert("No Implementado! ("+t+" - "+o+")")}}},c=l,u=(r("a934"),r("2877")),b=Object(u["a"])(c,e,a,!1,null,"36279c84",null);o["default"]=b.exports},"5dbb":function(t,o,r){},a934:function(t,o,r){"use strict";r("5dbb")}}]);
//# sourceMappingURL=chunk-012ae62c.e38e6441.js.map